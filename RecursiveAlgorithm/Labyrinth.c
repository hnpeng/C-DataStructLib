#include "Labyrinth.h"

#include <stdio.h>

typedef struct
{
    int ios;
    int jos;
}Pos;

Pos osPos[4] = {
    {0, -1},
    {0, 1},
    {-1, 0},
    {1, 0}
};

char labyrithArr[19][19] = {
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0},
    {1,1,1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1},
    {1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1},
    {1,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1},
    {1,0,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0,1},
    {1,0,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,0,1},
    {1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1},
    {1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1},
    {1,0,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1},
    {1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1},
    {1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1},
    {1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1},
    {1,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,1},
    {1,0,1,0,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1},
    {1,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1},
    {1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1},
    {0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};

void displayBoard()
{
    int i;
    int j;

    for (i=0; i<19; i++) {
        for (j=0; j<19; j++) {
            if (labyrithArr[i][j] == 1) {
                printf("# ");
            } else if (labyrithArr[i][j] == 0) {
                printf("  ");
            } else {
                printf(". ");
            }
        }
        printf("\n");
    }
}

int checkAvailable(int i, int j)
{
    int ret = 0;

    if (labyrithArr[i][j] == 0) {
        ret = 1;
    }

    return ret;
}

void Labyrinth_Find(int i, int j)
{
    if ( !(i == 17 && j == 0) && (i == 0 || j == 0 || i == 18 || j == 18)) {
        displayBoard();
        printf("\n\n");
    } else {
        int index;
        for (index=0; index < 4; index++) {
            int in = i + osPos[index].ios;
            int jn = j + osPos[index].jos;

            if (checkAvailable(in, jn)) {
                labyrithArr[in][jn] = 2;
                Labyrinth_Find(in, jn);
                labyrithArr[in][jn] = 0;
            }
        }


    }
}
